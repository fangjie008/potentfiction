<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tiexue.potentfiction.mapper.WxPayMapper">
	<!--cache -->
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache">
		<property name="timeToIdleSeconds" value="3600" /><!--1 hour -->
		<property name="timeToLiveSeconds" value="3600" /><!--1 hour -->
		<property name="maxEntriesLocalHeap" value="1000" />
		<property name="maxEntriesLocalDisk" value="10000000" />
		<property name="memoryStoreEvictionPolicy" value="LRU" />
	</cache>
	<insert id="insert" >
		insert wxpay (UserId,PayType,Amount,Count,CreateTime,Unit)
		values (#{UserId},#{PayType},#{Amount},#{Count},#{CreateTime},#{Unit})
	</insert>
	<update id="update">
		update wxpay set UserId=#{UserId},PayType=#{PayType},Amount=#{Amount},
		CreateTime=#{CreateTime},Unit=#{Unit}
	</update>
	<select id="getModel" resultType="com.tiexue.potentfiction.entity.WxPay">
	  select Id,UserId,PayType,Amount,Count,CreateTime,Unit from wxpay 
	  where Id=#{Id}
	</select>
	<select id="getListByPage" resultType="com.tiexue.potentfiction.entity.WxPay">
		select Id,UserId,PayType,Amount,Count,CreateTime,Unit 
		from wxpay
		where UserId=#{0} order by CreateTime desc LIMIT #{1},#{2}
	</select>
	<select id="getCountByUserId" resultType="int">
		select count(1) from wxpay where UserId =#{userId} 
	</select>
</mapper>